# è·¯ç·šä¾¡å›³æŸ¥è¯¢æœåŠ¡é…ç½®æ–‡ä»¶
# service_config.yaml

# æœåŠ¡åŸºæœ¬é…ç½®
service:
  name: "è·¯ç·šä¾¡å›³æŸ¥è¯¢æœåŠ¡"
  version: "1.0.0"
  description: "é«˜æ€§èƒ½çš„è·¯ç·šä¾¡å›³åœ°å€æŸ¥è¯¢æœåŠ¡"
  debug: false

# APIæœåŠ¡é…ç½®
api:
  host: "127.0.0.1"
  port: 8000
  workers: 1
  reload: true
  log_level: "info"
  cors_origins: ["*"]
  
# Webç•Œé¢é…ç½®  
web:
  host: "127.0.0.1"
  port: 8501
  title: "ğŸ—¾ è·¯ç·šä¾¡å›³æŸ¥è¯¢ç³»ç»Ÿ"
  layout: "wide"
  theme: "light"

# æ•°æ®é…ç½®
data:
  base_dir: "./rosenka_data"
  cache_dir: "./.cache"
  index_file: "address_index.pkl"
  database_file: "rosenka_service.db"

# OCRé…ç½®
ocr:
  # ä¼˜å…ˆçº§é¡ºåºï¼špaddleocr > easyocr > tesseract
  engines:
    - name: "paddleocr"
      enabled: true
      config:
        use_angle_cls: true
        lang: "japan"
        show_log: false
    - name: "easyocr"
      enabled: true
      config:
        lang: ["ja", "en"]
    - name: "tesseract"
      enabled: true
      config:
        lang: "jpn"
        oem: 3
        psm: 6
  
  # å›¾åƒå¤„ç†å‚æ•°
  image_processing:
    dpi: 300
    max_image_size: 2048
    enhance_contrast: true
    denoise: true

# æœç´¢é…ç½®
search:
  similarity_threshold: 50
  max_results: 100
  max_files_per_search: 50
  enable_fuzzy_search: true
  enable_partial_match: true
  
  # ç¼“å­˜é…ç½®
  cache:
    enabled: true
    ttl: 3600  # 1å°æ—¶
    max_size: 1000
    cleanup_interval: 3600

# æ€§èƒ½é…ç½®
performance:
  max_workers: 4
  thread_pool_size: 8
  process_pool_size: 2
  memory_limit: "2GB"
  
  # å¹¶å‘é™åˆ¶
  concurrent_searches: 10
  rate_limit:
    requests_per_minute: 60
    burst_size: 10

# æ—¥å¿—é…ç½®
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "rosenka_service.log"
  max_size: "10MB"
  backup_count: 5

# ç›‘æ§é…ç½®
monitoring:
  enabled: true
  metrics_port: 9090
  health_check_interval: 30
  
  # ç»Ÿè®¡ä¿¡æ¯
  collect_stats: true
  stats_retention: 7  # å¤©

# å®‰å…¨é…ç½®
security:
  enable_cors: true
  enable_rate_limiting: true
  api_key_required: false
  allowed_hosts: ["*"]

# ç‰¹æ€§å¼€å…³
features:
  enable_async_processing: true
  enable_image_caching: true
  enable_result_export: true
  enable_batch_processing: false
  enable_api_docs: true 